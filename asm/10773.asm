FIRST	LDA	#256          
	JSUB	STINIT
	LDX	ZERO
	LDA	ZERO
	STA	RESULT

CALLK	LDX	ZERO
	TD	INDEV
	JEQ	CALLK
	RD	INDEV
	COMP	NLC
	JEQ	CALLK
	SUB	#48
	STA	KK

INLOOP	TD	INDEV
	JEQ	INLOOP
	RD	INDEV
	COMP	NLC
	JEQ	INLOOP
	COMP	ZEROCH
	JEQ	ZCASE
	SUB	#48
	STA	TMP
	JSUB	PUSH
	LDA	TMP
	ADD	RESULT
	STA	RESULT

CHECK	LDA	ZERO
	TIX	KK
	JLT	INLOOP
	JEQ	OUTLP

ZCASE	JSUB	POP
	STA	TMP
	LDA	RESULT
	SUB	TMP
	STA	RESULT
	J	CHECK

OUTLP	TD	OUTDEV
	JEQ	OUTLP
	LDA	RESULT
	COMP	#10
	JLT	OUTLP2
	DIV	#10
	MUL	#10
	STA	TMP
	DIV	#10
	ADD	#48
	WD	OUTDEV
	LDA	RESULT
	SUB	TMP

OUTLP2	ADD	#48
	WD	OUTDEV
	J	FIN

STINIT	STA	STACKPTR
	RSUB

PUSH	STA	@STACKPTR
	LDA	STACKPTR
	ADD	#3
	STA	STACKPTR

POP	LDA	STACKPTR
	SUB	#3
	STA	STACKPTR
	LDA	@STACKPTR
	RSUB

FIN
	END	FIRST

INDEV	BYTE	0
OUTDEV	BYTE	1
ZERO	BYTE	0
TMP	RESW	1
KK	RESW	1
RESULT	RESW	1
NLC	WORD	10
ZEROCH	WORD	48

STACKPTR	RESW	1